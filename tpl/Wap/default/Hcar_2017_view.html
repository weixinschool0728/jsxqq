
<html>
	<head>
		<title>咏莲</title>
		<meta http-equiv="imagetoolbar" content="no">
		<meta name="viewport" content="width=500px, height=750px,initial-scale=0.64"/>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="format-detection" content="telephone=no">
		
	<link rel="stylesheet" href="/tpl/Wap/default/common/hcar/makecard_top.css" type="text/css" media="screen" charset="utf-8">
		
		<script type="text/javascript">
            if (typeof(AN) === "undefined") {
                var AN = {}
            }
            AN.instances = {
                symbols: [],
                controllers: []
            };
            AN.apiVersion = 1;
            AN.Controller = function() {
                return {
                    currentScene: false,
                    userData: {},
                    setConfig: function(a) {
                        AN.instances.controllers.push(this);
                        this.events = a.events;
                        this.prefix = a.cssPrefix;
                        this.projectActions = a.projectActions;
                        this.basePath = a.basePath ? a.basePath: "";
                        this.olElement = document.querySelector("#" + a.parentId + " ol");
                        var d = this.olElement.children;
                        this.useOrmma = a.ormma;
                        this.scenes = [];
                        this.scenesById = {};
                        this.sceneByName = {};
                        var g;
                        for (var e = 0; e < a.scenes.length; e++) {
                            g = a.scenes[e];
                            g.element = d[e];
                            g.timelinesById = {};
                            g.timelinesByName = {};
                            for (var c = 0; c < g.timelines.length; c++) {
                                g.timelinesById[g.timelines[c].id] = g.timelines[c];
                                g.timelinesByName[g.timelines[c].name] = g.timelines[c]
                            }
                            this.scenesById[g.id] = g;
                            this.scenes.push(g);
                            if (g.name) {
                                this.sceneByName[g.name] = g
                            }
                        }
                        this.setupListeners();
                        this.startSceneByName = this.goToSceneByName;
                        this.startSceneById = this.goToSceneById;
                        this.startSceneByID = this.startSceneById;
                        this.symbolInstancesByHtmlId = {};
                        this.symbolInstancesById = {};
                        this.symbols = [];
                        var h, b, f;
                        for (var e = 0; e < a.symbols.length; e++) {
                            h = a.symbols[e];
                            this.symbolInstancesById[h.id] = [];
                            b = this.olElement.querySelectorAll(".an-symbol-container-" + h.id);
                            for (var c = 0; c < b.length; c++) {
                                f = new AN.Symbol();
                                f.setConfig(b[c], h, this);
                                this.symbolInstancesByHtmlId[b[c].id] = f;
                                this.symbolInstancesById[h.id].push(f);
                                this.symbols.push(f)
                            }
                        }
                        this.fireAction(this.projectActions, "init");
                        this.goToScene(this.scenes[0])
                    },
                    setupListeners: function() {
                        var l = this;
                        this.browser = "unknown";
                        if (document.body.style.MozAnimationName !== undefined) {
                            this.browser = "moz"
                        }
                        function h(j) {
                            var i;
                            if (l.browser === "moz") {
                                i = j.target;
                                while (i = i.parentNode) {
                                    if (i === l.currentScene.element) {
                                        l.onAnimationEnd();
                                        return
                                    }
                                }
                            } else {
                                l.onAnimationEnd()
                            }
                        }
                        this.olElement.addEventListener("webkitAnimationEnd", h, false);
                        this.olElement.addEventListener("animationend", h, false);
                        function c(i) {
                            i.element.addEventListener("mousemove",
                            function(j) {
                                i.mousemoveAction.call(l.userData, l, j)
                            },
                            false)
                        }
                        var g;
                        for (var e = 0; e < this.scenes.length; e++) {
                            g = this.scenes[e];
                            if (g.mousemoveAction) {
                                c(g)
                            }
                        }
                        function a(m, j, i) {
                            m.addEventListener(j,
                            function(n) {
                                i.call(l.userData, l, n)
                            },
                            false)
                        }
                        var f, b, k;
                        for (var e = 0; e < this.events.length; e++) {
                            b = this.events[e];
                            k = b.type;
                            f = document.getElementById(b.id);
                            for (var d = 0; d < k.length; d++) {
                                a(f, k[d], b.handler)
                            }
                        }
                    },
                    onAnimationEnd: function() {
                        this.runningAnimationCount--;
                        if (this.runningAnimationCount === 0) {
                            this.onAllAnimationEnd()
                        }
                    },
                    onAllAnimationEnd: function() {
                        var a = this.currentScene.currentTimeline.endWaitTime;
                        if (a) {
                            var b = this;
                            this.sceneTimeout = setTimeout(function() {
                                b.onSceneFinish()
                            },
                            a * 1000)
                        } else {
                            this.onSceneFinish()
                        }
                    },
                    forceRefresh: function(a) {
                        this.forceRefreshValue = a.element.offsetHeight
                    },
                    fireAction: function(b, a) {
                        if (b && b[a]) {
                            b[a].call(this.userData, this)
                        }
                    },
                    getSymbolByHtmlId: function(a) {
                        return this.symbolInstancesByHtmlId[a]
                    },
                    getSymbolByInstanceId: function(b) {
                        var a = this.olElement.querySelector(".an-symbol-container.an-symbol-" + b);
                        return this.getSymbolByHtmlId(a.id)
                    },
                    getSymbols: function() {
                        return this.symbols
                    },
                    getSymbolsBySymbolMasterId: function(a) {
                        return this.symbolInstancesById[a]
                    },
                    getUserData: function() {
                        return this.userData
                    },
                    getTimelineByIndex: function(a) {
                        return this.currentScene.timelines[a]
                    },
                    getTimelineById: function(a) {
                        return this.currentScene.timelinesById[a]
                    },
                    getTimelineByName: function(a) {
                        return this.currentScene.timelinesByName[a]
                    },
                    getCurrentTimeline: function() {
                        return this.currentScene.currentTimeline
                    },
                    getCurrentScene: function() {
                        return this.currentScene
                    },
                    getSceneByIndex: function(a) {
                        return this.scenes[a]
                    },
                    getSceneById: function(a) {
                        return this.scenesById[a]
                    },
                    getSceneByName: function(a) {
                        return this.sceneByName[a]
                    },
                    goToNextTimeline: function() {
                        var b = this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);
                        var a = Math.min(b + 1, this.currentScene.timelines.length - 1);
                        if (a === b) {
                            return
                        }
                        this.goToTimelineByIndex(a)
                    },
                    goToPreviousTimeline: function() {
                        var b = this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);
                        var a = Math.max(b - 1, 0);
                        if (b === a) {
                            return
                        }
                        this.goToTimelineByIndex(a)
                    },
                    goToTimelineById: function(a) {
                        this.goToScene(this.currentScene, this.currentScene.timelinesById[a])
                    },
                    goToTimelineByName: function(a) {
                        this.goToScene(this.currentScene, this.currentScene.timelinesByName[a])
                    },
                    goToTimelineByIndex: function(a) {
                        this.goToScene(this.currentScene, this.currentScene.timelines[a])
                    },
                    goToTimeline: function(a) {
                        this.goToScene(this.currentScene, a)
                    },
                    goToNextScene: function() {
                        var b = this.scenes.indexOf(this.currentScene);
                        var a = Math.min(b + 1, this.scenes.length - 1);
                        if (b === a) {
                            return
                        }
                        this.goToSceneByIndex(a)
                    },
                    goToPreviousScene: function() {
                        var a = this.scenes.indexOf(this.currentScene);
                        var b = Math.max(a - 1, 0);
                        if (a === b) {
                            return
                        }
                        this.goToSceneByIndex(b)
                    },
                    goToSceneByIndex: function(a) {
                        this.goToScene(this.scenes[a])
                    },
                    goToSceneByName: function(a) {
                        this.goToScene(this.sceneByName[a])
                    },
                    goToSceneById: function(a, b) {
                        var c = this.scenesById[a];
                        this.goToScene(c, c.timelinesById[b])
                    },
                    goToScene: function(g, f) {
                        var d = g;
                        var e = this.currentScene;
                        var a = f;
                        var c = e ? e.currentTimeline: false;
                        if (a === undefined) {
                            a = d.timelines[0]
                        }
                        var b = false;
                        if (c === a && e === d) {
                            b = true
                        } else {
                            if (e) {
                                e.element.setAttribute("class", "")
                            }
                        }
                        this.fireAction(c, "exitAction");
                        clearTimeout(this.sceneTimeout);
                        if (e !== d) {
                            this.fireAction(e, "exitAction");
                            this.fireAction(d, "initAction")
                        }
                        this.fireAction(a, "initAction");
                        this.runningAnimationCount = a.animationCount;
                        this.currentScene = d;
                        d.currentTimeline = a;
                        var h = "t-" + a.id;
                        if (b || this.browser === "moz") {
                            d.element.setAttribute("class", "run restart " + h);
                            this.forceRefresh(d)
                        }
                        d.element.setAttribute("class", "run " + h);
                        if (!b && this.useOrmma) {
                            this.ormmaNextScene(d)
                        }
                        this.fireAction(a, "startAction");
                        if (a.animationCount === 0) {
                            this.onAllAnimationEnd()
                        }
                    },
                    replayScene: function() {
                        console.warn("replayScene is deprecated. Use restartScene instead.");
                        this.restartScene()
                    },
                    restartScene: function() {
                        this.goToScene(this.currentScene)
                    },
                    restartTimeline: function() {
                        this.goToScene(this.currentScene, this.currentScene.currentTimeline)
                    },
                    onSceneFinish: function() {
                        this.fireAction(this.currentScene.currentTimeline, "endAction")
                    },
                    goToURL: function(a) {
                        document.location.href = a
                    },
                    getElementById: function(a) {
                        return document.getElementById(this.getElementIdById(a))
                    },
                    getElementIdById: function(a) {
                        return this.prefix + a
                    },
                    getUrlForLocalAsset: function(b) {
                        var a = "assets/" + b;
                        if (this.basePath) {
                            a = this.basePath + "/" + a
                        }
                        return a
                    },
                    ormmaNextScene: function(c) {
                        var a = ormma.getState();
                        if (c.dimensions.expanded) {
                            var i = ormma.getMaxSize();
                            if (a !== "expanded") {
                                ormma.expand({
                                    x: 0,
                                    y: 0,
                                    width: i.width,
                                    height: i.height
                                })
                            }
                            var b = "";
                            var d = c.element.offsetHeight;
                            var g = c.element.offsetWidth;
                            var e = (i.height - d) / 2;
                            var h = (i.width - g) / 2;
                            b += " translate3d(" + Math.round(h) + "px," + Math.round(e) + "px,0)";
                            if (c.dimensions.fit) {
                                var f = Math.min(i.width / g, i.height / d);
                                b += " scale3d(" + f + "," + f + ",1)"
                            }
                            c.element.style.webkitTransform = b
                        } else {
                            if (a === "expanded") {
                                ormma.close()
                            }
                            ormma.resize(c.dimensions.width, c.dimensions.height)
                        }
                    }
                }
            };
            window.addEventListener('load',
            function() {
                var configData = {
                    parentId: 'an-anim',
                    cssPrefix: '',
                    ormma: false,
                    mraid: false,
                    layout: {
                        "type": "scene-dependent"
                    },
                    scenes: [{
                        id: 0,
                        dimensions: {
                            height: 750,
                            width: 500,
                            expanded: false,
                            fit: false
                        },
                        timelines: [{
                            id: "0",
                            name: 'Timeline 1',
                            animationCount: 10,
                            duration: Infinity,
                            lastKeyframeTime: 12
                        }]
                    }],
                    symbols: [],
                    projectActions: {},
                    events: [],
                    externalResources: []
                };
                setTimeout(function() {
                    var controller = new AN.Controller;
                    controller.setConfig(configData);
                },
                0);
            },
            false);
        </script>
        <style type="text/css">
            #an-anim > ol{list-style:none;margin:0;padding:0;}#an-anim > ol > li{margin:0;padding:0;display:none;}#an-anim
            > ol > li.run{display:block;}#an-anim .an-stage{overflow:hidden;margin:0;padding:0;}#an-anim
            .an-stage div{position:absolute;}.an-stage *{margin:0;padding:0;font-smoothing:antialiased;-webkit-font-smoothing:antialiased;}#an-anim
            .an-stage img{position:absolute;top:0;left:0;}#an-anim .AN-Scene-Description{display:none;}#an-anim
            iframe{border:none;height:100%;width:100%}#an-anim .an-stage{position:relative;}#an-anim{display:inline-block;}#an-obj-1{transform:translate3d(0px,
            0px, 0px);-webkit-transform:translate3d(0px, 0px, 0px);width:500px;height:750px;top:0;left:0;transform-origin:43.33%
            40%;-webkit-transform-origin:43.33% 40%;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}#an-obj-2{transform:translate3d(0px,
            0px, 0px);-webkit-transform:translate3d(0px, 0px, 0px);width:500px;height:750px;top:0;left:0;animation-direction:alternate;-webkit-animation-direction:alternate;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-2-0{0%{-webkit-transform:translate3d(0px, 0px, 0px);opacity:0;-webkit-animation-timing-function:linear;}100%{-webkit-transform:translate3d(0px,
            0px, 0px);opacity:1;-webkit-animation-timing-function:ease;}}@keyframes
            ani-an-obj-2-0{0%{transform:translate3d(0px, 0px, 0px);opacity:0;animation-timing-function:linear;}100%{transform:translate3d(0px,
            0px, 0px);opacity:1;animation-timing-function:ease;}}.run.t-0 #an-obj-2{animation-name:ani-an-obj-2-0;-webkit-animation-name:ani-an-obj-2-0;animation-duration:3.3194s;-webkit-animation-duration:3.3194s;animation-delay:0.0179s;-webkit-animation-delay:0.0179s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-2{transform:translate3d(0px, 0px, 0px);-webkit-transform:translate3d(0px,
            0px, 0px);opacity:1;animation-timing-function:ease;-webkit-animation-timing-function:ease;}.restart.t-0
            #an-obj-2{transform:translate3d(0px, 0px, 0px);-webkit-transform:translate3d(0px,
            0px, 0px);opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;}.restart
            #an-obj-2{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-3{transform:translate3d(10px,
            19px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(20deg);-webkit-transform:translate3d(10px,
            19px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(20deg);width:500px;height:750px;top:0;left:0;transform-origin:61%
            54.83%;-webkit-transform-origin:61% 54.83%;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-3-0{0%{-webkit-transform:translate3d(15px, 20px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(-16.9deg);opacity:0;-webkit-transform-origin:61.6%
            54%;-webkit-animation-timing-function:ease-in;}14.7541%{-webkit-transform:translate3d(15px,
            20px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-14.299999999999997deg);opacity:1;-webkit-transform-origin:61.08%
            54.72%;-webkit-animation-timing-function:linear;}27.7028%{-webkit-transform:translate3d(15px,
            20px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(11.6deg);opacity:1;-webkit-transform-origin:61%
            54.83%;-webkit-animation-timing-function:linear;}40.4689%{-webkit-transform:translate3d(65px,
            110px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-6.199999999999999deg);opacity:1;-webkit-transform-origin:62.4%
            57.2%;-webkit-animation-timing-function:linear;}53.402%{-webkit-transform:translate3d(-19px,
            199px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(23.4deg);opacity:1;-webkit-transform-origin:59.2%
            62.8%;-webkit-animation-timing-function:linear;}65.548%{-webkit-transform:translate3d(65px,
            369px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-9.8deg);opacity:1;-webkit-transform-origin:76%
            64.13%;-webkit-animation-timing-function:linear;}100%{-webkit-transform:translate3d(65px,
            369px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-9.8deg);opacity:0;-webkit-transform-origin:76%
            64.13%;-webkit-animation-timing-function:linear;}}@keyframes ani-an-obj-3-0{0%{transform:translate3d(15px,
            20px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-16.9deg);opacity:0;transform-origin:61.6%
            54%;animation-timing-function:ease-in;}14.7541%{transform:translate3d(15px,
            20px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-14.299999999999997deg);opacity:1;transform-origin:61.08%
            54.72%;animation-timing-function:linear;}27.7028%{transform:translate3d(15px,
            20px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(11.6deg);opacity:1;transform-origin:61%
            54.83%;animation-timing-function:linear;}40.4689%{transform:translate3d(65px,
            110px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-6.199999999999999deg);opacity:1;transform-origin:62.4%
            57.2%;animation-timing-function:linear;}53.402%{transform:translate3d(-19px,
            199px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(23.4deg);opacity:1;transform-origin:59.2%
            62.8%;animation-timing-function:linear;}65.548%{transform:translate3d(65px,
            369px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-9.8deg);opacity:1;transform-origin:76%
            64.13%;animation-timing-function:linear;}100%{transform:translate3d(65px,
            369px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-9.8deg);opacity:0;transform-origin:76%
            64.13%;animation-timing-function:linear;}}.run.t-0 #an-obj-3{animation-name:ani-an-obj-3-0;-webkit-animation-name:ani-an-obj-3-0;animation-duration:11.9821s;-webkit-animation-duration:11.9821s;animation-delay:0.0179s;-webkit-animation-delay:0.0179s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-3{transform:translate3d(65px, 369px, 0px) rotateX(0deg) rotateY(0deg)
            rotateZ(-9.8deg);-webkit-transform:translate3d(65px, 369px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(-9.8deg);opacity:0;transform-origin:76% 64.13%;-webkit-transform-origin:76%
            64.13%;animation-timing-function:linear;-webkit-animation-timing-function:linear;}.restart.t-0
            #an-obj-3{transform:translate3d(15px, 20px, 0px) rotateX(0deg) rotateY(0deg)
            rotateZ(-16.9deg);-webkit-transform:translate3d(15px, 20px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(-16.9deg);opacity:0;transform-origin:61.6% 54%;-webkit-transform-origin:61.6%
            54%;animation-timing-function:ease-in;-webkit-animation-timing-function:ease-in;}.restart
            #an-obj-3{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-4{transform:translate3d(26px,
            18px, 0px);-webkit-transform:translate3d(26px, 18px, 0px);width:500px;height:750px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-direction:alternate;-webkit-animation-direction:alternate;transform-origin:49.8%
            99.74%;-webkit-transform-origin:49.8% 99.74%;}@-webkit-keyframes ani-an-obj-4-0{0%{-webkit-transform:translate3d(26px,
            18px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);-webkit-animation-timing-function:ease;}100%{-webkit-transform:translate3d(26px,
            18px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-3deg);-webkit-animation-timing-function:linear;}}@keyframes
            ani-an-obj-4-0{0%{transform:translate3d(26px, 18px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(0deg);animation-timing-function:ease;}100%{transform:translate3d(26px,
            18px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-3deg);animation-timing-function:linear;}}.run.t-0
            #an-obj-4{animation-name:ani-an-obj-4-0;-webkit-animation-name:ani-an-obj-4-0;animation-duration:3s;-webkit-animation-duration:3s;animation-delay:0s;-webkit-animation-delay:0s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-4{transform:translate3d(26px, 18px, 0px) rotateX(0deg) rotateY(0deg)
            rotateZ(-3deg);-webkit-transform:translate3d(26px, 18px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(-3deg);animation-timing-function:linear;-webkit-animation-timing-function:linear;}.restart.t-0
            #an-obj-4{transform:translate3d(26px, 18px, 0px) rotateX(0deg) rotateY(0deg)
            rotateZ(0deg);-webkit-transform:translate3d(26px, 18px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(0deg);animation-timing-function:ease;-webkit-animation-timing-function:ease;}.restart
            #an-obj-4{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-5{transform:translate3d(116px,
            599px, 0px);-webkit-transform:translate3d(116px, 599px, 0px);width:54px;height:88px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-5-0{0%{-webkit-transform:translate3d(116px, 599px, 0px);opacity:1;}100%{-webkit-transform:translate3d(122px,
            145px, 0px);opacity:0;}}@keyframes ani-an-obj-5-0{0%{transform:translate3d(116px,
            599px, 0px);opacity:1;}100%{transform:translate3d(122px, 145px, 0px);opacity:0;}}.run.t-0
            #an-obj-5{animation-name:ani-an-obj-5-0;-webkit-animation-name:ani-an-obj-5-0;animation-duration:3.2837s;-webkit-animation-duration:3.2837s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-5{transform:translate3d(122px, 145px, 0px);-webkit-transform:translate3d(122px,
            145px, 0px);opacity:0;}.restart.t-0 #an-obj-5{transform:translate3d(116px,
            599px, 0px);-webkit-transform:translate3d(116px, 599px, 0px);opacity:1;}.restart
            #an-obj-5{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-6{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:54px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-6-0{0%{-webkit-transform:translate3d(48px, 613px, 0px);opacity:1;}100%{-webkit-transform:translate3d(44px,
            119px, 0px);opacity:0;}}@keyframes ani-an-obj-6-0{0%{transform:translate3d(48px,
            613px, 0px);opacity:1;}100%{transform:translate3d(44px, 119px, 0px);opacity:0;}}.run.t-0
            #an-obj-6{animation-name:ani-an-obj-6-0;-webkit-animation-name:ani-an-obj-6-0;animation-duration:4.3035s;-webkit-animation-duration:4.3035s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-6{transform:translate3d(44px, 119px, 0px);-webkit-transform:translate3d(44px,
            119px, 0px);opacity:0;}.restart.t-0 #an-obj-6{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);opacity:1;}.restart
            #an-obj-6{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-7{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:88px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-7-0{0%{-webkit-transform:translate3d(356px, 621px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(0deg);opacity:1;}100%{-webkit-transform:translate3d(362px,
            451px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-28.9deg);opacity:0;}}@keyframes
            ani-an-obj-7-0{0%{transform:translate3d(356px, 621px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(0deg);opacity:1;}100%{transform:translate3d(362px,
            451px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-28.9deg);opacity:0;}}.run.t-0
            #an-obj-7{animation-name:ani-an-obj-7-0;-webkit-animation-name:ani-an-obj-7-0;animation-duration:1.7321s;-webkit-animation-duration:1.7321s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-7{transform:translate3d(362px, 451px, 0px) rotateX(0deg) rotateY(0deg)
            rotateZ(-28.9deg);-webkit-transform:translate3d(362px, 451px, 0px) rotateX(0deg)
            rotateY(0deg) rotateZ(-28.9deg);opacity:0;}.restart.t-0 #an-obj-7{transform:translate3d(356px,
            621px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);-webkit-transform:translate3d(356px,
            621px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);opacity:1;}.restart
            #an-obj-7{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-8{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:54px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-8-0{0%{-webkit-transform:translate3d(20px, 567px, 0px);opacity:1;}100%{-webkit-transform:translate3d(44px,
            119px, 0px);opacity:0;}}@keyframes ani-an-obj-8-0{0%{transform:translate3d(20px,
            567px, 0px);opacity:1;}100%{transform:translate3d(44px, 119px, 0px);opacity:0;}}.run.t-0
            #an-obj-8{animation-name:ani-an-obj-8-0;-webkit-animation-name:ani-an-obj-8-0;animation-duration:2.8393s;-webkit-animation-duration:2.8393s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-8{transform:translate3d(44px, 119px, 0px);-webkit-transform:translate3d(44px,
            119px, 0px);opacity:0;}.restart.t-0 #an-obj-8{transform:translate3d(20px,
            567px, 0px);-webkit-transform:translate3d(20px, 567px, 0px);opacity:1;}.restart
            #an-obj-8{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-9{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:54px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-9-0{0%{-webkit-transform:translate3d(204px, 531px, 0px);opacity:1;}100%{-webkit-transform:translate3d(202px,
            -77px, 0px);opacity:0;}}@keyframes ani-an-obj-9-0{0%{transform:translate3d(204px,
            531px, 0px);opacity:1;}100%{transform:translate3d(202px, -77px, 0px);opacity:0;}}.run.t-0
            #an-obj-9{animation-name:ani-an-obj-9-0;-webkit-animation-name:ani-an-obj-9-0;animation-duration:3.5178s;-webkit-animation-duration:3.5178s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-9{transform:translate3d(202px, -77px, 0px);-webkit-transform:translate3d(202px,
            -77px, 0px);opacity:0;}.restart.t-0 #an-obj-9{transform:translate3d(204px,
            531px, 0px);-webkit-transform:translate3d(204px, 531px, 0px);opacity:1;}.restart
            #an-obj-9{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-10{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:54px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-10-0{0%{-webkit-transform:translate3d(316px, 559px, 0px);opacity:1;}100%{-webkit-transform:translate3d(318px,
            189px, 0px);opacity:0;}}@keyframes ani-an-obj-10-0{0%{transform:translate3d(316px,
            559px, 0px);opacity:1;}100%{transform:translate3d(318px, 189px, 0px);opacity:0;}}.run.t-0
            #an-obj-10{animation-name:ani-an-obj-10-0;-webkit-animation-name:ani-an-obj-10-0;animation-duration:3.125s;-webkit-animation-duration:3.125s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-10{transform:translate3d(318px, 189px, 0px);-webkit-transform:translate3d(318px,
            189px, 0px);opacity:0;}.restart.t-0 #an-obj-10{transform:translate3d(316px,
            559px, 0px);-webkit-transform:translate3d(316px, 559px, 0px);opacity:1;}.restart
            #an-obj-10{animation-name:none !important;-webkit-animation-name:none !important;}#an-obj-11{transform:translate3d(48px,
            613px, 0px);-webkit-transform:translate3d(48px, 613px, 0px);width:54px;height:54px;top:0;left:0;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;}@-webkit-keyframes
            ani-an-obj-11-0{0%{-webkit-transform:translate3d(430px, 545px, 0px) scale3d(1,
            1, 1);opacity:1;}100%{-webkit-transform:translate3d(434px, -27px, 0px)
            scale3d(1, 1, 1);opacity:0;}}@keyframes ani-an-obj-11-0{0%{transform:translate3d(430px,
            545px, 0px) scale3d(1, 1, 1);opacity:1;}100%{transform:translate3d(434px,
            -27px, 0px) scale3d(1, 1, 1);opacity:0;}}.run.t-0 #an-obj-11{animation-name:ani-an-obj-11-0;-webkit-animation-name:ani-an-obj-11-0;animation-duration:1.3393s;-webkit-animation-duration:1.3393s;animation-delay:0.0536s;-webkit-animation-delay:0.0536s;animation-fill-mode:both;-webkit-animation-fill-mode:both;}.t-0
            #an-obj-11{transform:translate3d(434px, -27px, 0px) scale3d(1, 1, 1);-webkit-transform:translate3d(434px,
            -27px, 0px) scale3d(1, 1, 1);opacity:0;}.restart.t-0 #an-obj-11{transform:translate3d(430px,
            545px, 0px) scale3d(1, 1, 1);-webkit-transform:translate3d(430px, 545px,
            0px) scale3d(1, 1, 1);opacity:1;}.restart #an-obj-11{animation-name:none
            !important;-webkit-animation-name:none !important;}#an-scene-0 .an-stage{height:750px;width:500px;background-color:rgba(255,255,255,1);}
            div#foot{   
                position:fixed; 
        		left:320px;
        		bottom:10px;
            } 	
        </style>
		<script>
			gSizeMode = 'bodywidth';
			gAnimateMode = 'up';
			gSound = '/tpl/Wap/default/common/hcar/pic/2017/gudian1.mp3';
			gColor = '#99FFCC';
			gTextAreaLeft = 0.1;
			gTextAreaTop = 0.15;
			gTextAreaWidth = 0.8;
			gTextAreaHeight = 0.4;
			gSpeed = 400;	
			gCardTextNoWrap ='';
			gCardText ='出淤泥而不染，<br>濯清涟而不妖。<br>莲，廉也；<br>花瓣腐，然随风飘落；<br>世间沉浮皆泡影，<br>疾恶不恭贪赃虫；<br>常愁风惊民间苦，<br>珍芳尽瘁袖清风！';
			
			share_url =window.location.href;
			
			<if condition="$message neq ''">
			gCardText ='{weimicms:$message}';
			</if>
			// script place
			
			var appId = '',
            imgUrl = '{weimicms:$f_siteUrl}/tpl/Wap/default/common/hcar/pic/2017/x2017.jpg',
            link = location.href,
            title = '咏莲',
            desc = '出淤泥而不染，濯清涟而不妖；莲，廉也；花瓣腐，然随风飘落；世间沉浮皆泡影，疾恶不恭贪赃虫；常愁风惊民间苦，珍芳尽瘁袖清风！';
            // card tips
			<if condition="$message neq ''">
			desc ='{weimicms:$message}';
			</if>
				
			gcardid = 2017;
			goptiontxt = "xinqing";
		</script>
		
		
		
		
		<script>
			function showTxt()
			{
				var text = document.getElementById("textsuper");
				text.style.display = "block";
				setTimeout("onLoad();",100);
			}
		</script>
		

    </head>
    
	<body style="margin:0; height: 100%;" onLoad="showTxt();">
        <div id="an-anim">
            <ol>
                <li id="an-scene-0">
                    <div class="an-stage">
                        <div id="an-obj-1">
                            <div>
                                <img height="750" width="500" src="/tpl/Wap/default/common/hcar/pic/2017/2017_2.jpg">
                            </div>
                        </div>
                        <div id="an-obj-2">
                            <div>
                                <img height="750" width="500" src="/tpl/Wap/default/common/hcar/pic/2017/2017_1.jpg">
                            </div>
                        </div>
                        <div id="an-obj-3">
                            <div>
                                <img height="750" width="500" src="/tpl/Wap/default/common/hcar/pic/2017/2017_huaban.png">
                            </div>
                        </div>
                        <div id="an-obj-4">
                            <div>
                                <img height="750" width="500" src="/tpl/Wap/default/common/hcar/pic/2017/2017_hehua.png">
                            </div>
                        </div>
                        <div id="an-obj-5">
                            <div>
                                <img height="88" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p1.png">
                            </div>
                        </div>
                        <div id="an-obj-6">
                            <div>
                                <img height="54" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p2.png">
                            </div>
                        </div>
                        <div id="an-obj-7">
                            <div>
                                <img height="88" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p1.png">
                            </div>
                        </div>
                        <div id="an-obj-8">
                            <div>
                                <img height="54" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p2.png">
                            </div>
                        </div>
                        <div id="an-obj-9">
                            <div>
                                <img height="54" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p2.png">
                            </div>
                        </div>
                        <div id="an-obj-10">
                            <div>
                                <img height="54" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p2.png">
                            </div>
                        </div>
                        <div id="an-obj-11">
                            <div>
                                <img height="54" width="54" src="/tpl/Wap/default/common/hcar/pic/2017/2017_p2.png">
                            </div>
                        </div>
                    </div>
                </li>
            </ol>
        </div>


        <div id="ruler" style="width:100%;height:0"></div>
        <div id="audiocontainer"></div>
        <div id="textsuper" style="position:absolute;top:-1000;left:-1000;overflow-x:hidden;overflow-y:hidden;z-index:5" >
                <div id="textsub" style='position:relative;font-size:22pt;line-height:48pt' onclick='javascript:playsound()'>
                        <b id="textcontent">
                        </b>
                </div>
        </div>
        
	<div id="foot" class="fixed">
            <a onClick="goguanzhu();">
                <img width="150px" src="/tpl/Wap/default/common/hcar/kawa1.gif" />
            </a>
        </div>
		<if condition="$message eq ''">
		<script>
			function gomakecard()
			{
				url = "/index.php?g=Wap&m=Hcar&a=hcar_make&token={weimicms:$token}&id={weimicms:$id}&cardid={weimicms:$cardid}&defaulttxt=" + gCardTextNoWrap;
				location.href = url;
			}
		</script>

		<a onClick="gomakecard();">
			<div style="height:100px;" id="makecard">
					<img style="left:10%; width: 80%;" src="/tpl/Wap/default/common/hcar/dingzhi.png">
			</div>
		</a>
		</if>
    <script>
var pop_up_note_mode = true;
var note_id = 1;

function id(name)
{
	return document.getElementById(name);
}

function translateUrl(url)
{
	if(typeof(share_url) != "undefined" && share_url != '')
	{
		url = share_url;
	}

//    pos1 = url.indexOf("//", 0);
    
  //  if(pos1 != -1)
  //  {
   //     pos2 = url.indexOf("/", pos1 + 2);
  //      n = Math.floor(Math.random() * 5100 + 1);
   //     url = "http://ec" + n + ".kagirl.com.cn" + url.substring(pos2);
  //  }
    
    return url;
}

function switchsound()
{
	au = id('bgsound');
	ai = id('sound_image');
	if(au.paused)
	{
		au.play();
		ai.src = "/tpl/Wap/default/common/hcar/music_note_big.png";
		pop_up_note_mode = true;
		popup_note();
		id("music_txt").innerHTML = "打开";
		id("music_txt").style.visibility = "visible";
		setTimeout(function(){id("music_txt").style.visibility="hidden"}, 2500);
	}
	else
	{
		pop_up_note_mode = false;
		au.pause();
		ai.src = "/tpl/Wap/default/common/hcar/music_note_big.png";
		id("music_txt").innerHTML = "关闭";
		id("music_txt").style.visibility = "visible";
		setTimeout(function(){id("music_txt").style.visibility="hidden"}, 2500);
	}
}

function on_pop_note_end(event)
{
	note = event.target;
	
	if(note.parentNode == id("note_box"))
	{
		id("note_box").removeChild(note);
		console.log("remove note id " + note.getAttribute("id"));
	}
}

function popup_note()
{
	box = id("note_box");
	
	note = document.createElement("span");
	note.style.cssText = "visibility:visible;position:absolute;background-image:url('/tpl/Wap/default/common/hcar/music_note_small.png');width:15px;height:25px";
	note.style.left = Math.random() * 20 + 20;
	note.style.top = "75px";
	this_node = "music_note_" + note_id;
	note.setAttribute("ID", this_node);
	note_id += 1;
	scale = Math.random() * 0.4 + 0.4;
	note.style.webkitTransform = "rotate(" + Math.floor(360 * Math.random()) + "deg) scale(" + scale + "," + scale + ")";
	note.style.webkitTransition = "top 2s ease-in, opacity 2s ease-in, left 2s ease-in";
	note.addEventListener("webkitTransitionEnd", on_pop_note_end);
	box.appendChild(note);

	setTimeout("document.getElementById('" + this_node + "').style.left = '0px';", 100);
	setTimeout("document.getElementById('" + this_node + "').style.top = '0px';", 100);
	setTimeout("document.getElementById('" + this_node + "').style.opacity = '0';", 100);
	
	if(pop_up_note_mode)
	{
		setTimeout("popup_note()", 600);
	}	
}

function playbksound()
{
	var audiocontainer = id('audiocontainer');
	if(audiocontainer != undefined)
	{
		audiocontainer.innerHTML = '<audio id="bgsound" loop="loop" autoplay="autoplay"> <source src="' + gSound + '" /> </audio>';
	}
			
	var audio = id('bgsound');
	audio.play();
	
	sound_div = document.createElement("div");
	sound_div.setAttribute("ID", "cardsound");
	sound_div.style.cssText = "position:fixed;left:440px;top:40px;z-index:5000;visibility:visible;";
	box_htm = "<div id='note_box' style='height:100px;width:44px;position:absolute;left:-20px;top:-80px'></div>";
	bg_htm = "<img id='sound_image' onclick='switchsound()' src='/tpl/Wap/default/common/hcar/music_note_big.png'>";
	txt_htm = "<div id='music_txt' style='color:white;position:absolute;left:-40px;top:30px;width:60px'></div>"
	sound_div.innerHTML = bg_htm + box_htm + txt_htm;
	document.body.appendChild(sound_div);
	setTimeout("popup_note()", 100);
}	

function in_weixin()
{
	var ua = navigator.userAgent.toLowerCase();

	if(ua.match(/MicroMessenger/i) == "micromessenger") {return true;}
	
	return false;
}

(function(){
	
	var onBridgeReady = function () {	

		playbksound();			
		link2 = translateUrl(link)

		WeixinJSBridge.on('menu:share:appmessage', function(argv){
			WeixinJSBridge.invoke('sendAppMessage',{
				'img_url' : imgUrl,
				'img_width' : '640',
				'img_height' : '640',
				'link' : link2,
				'desc' : desc,
				'title' : title
				}, function(res) {
			switch(res.err_msg) {
			case "send_app_msg:confirm":
			case "send_app_msg:ok":
			    location.href="{weimicms:$fxlj}"
			    break;
			}
		});
		});

		WeixinJSBridge.on('menu:share:timeline', function(argv){
			WeixinJSBridge.invoke('shareTimeline',{
			'img_url' : imgUrl,
			'img_width' : '640',
			'img_height' : '640',
			'link' : link2,
			'desc' : desc,
			'title' : desc
			}, function(res) {
			switch(res.err_msg) {
			case "share_timeline:confirm":
			case "share_timeline:ok":
			location.href="{weimicms:$fxlj}"
			    break;
			}
			});
		});
	};
	
	if(document.addEventListener){
		document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
	} else if(document.attachEvent){
		document.attachEvent('WeixinJSBridgeReady' , onBridgeReady);
		document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
	}
	
	if(!in_weixin())
	{
		setTimeout("playbksound()", 500);
		//setTimeout("translateUrl(link)", 1000);
	}
})();

</script>
<script>
/*
var ua = navigator.userAgent.toLowerCase();
	if(ua.match(/MicroMessenger/i)=="micromessenger") {
		
 	} else {
		window.location.href="http://mp.weixin.qq.com/s?__biz=MzAwOTA0MTQ3OQ==&mid=200750001&idx=1&sn=89c7d2e3eb38e2e27f439d902ae05269#rd";
	}
	
*/	
	
var gTextSub        = 0;
var gTextSuper      = 0;
var gTextContent    = 0;
var gPrintText      = '';
var gOrgCardText    = '';

var faces = [':)', ':~', ':B',':|','8-)',':<',':$',':X',':Z',
             ':-|',':@',':P',':D',':O',':(',':+','--b',':Q',':T',
			 ',@P',',@-D',':d',',@o',':g','|-)',':!',':L',':>',':,@',
			 ',@f',':-S','?/',':,@x',',@@',':8',',@!','!!!','xx','bye',
			 'wipe','dig','handclap','&-(','B-)','<@','@>',':-O','>-|','P-(',
			 'X-)',':*','@x','8*','pd','<W>','beer','basketb','oo',
			 'coffee','eat','pig','rose','fade','showlove','heart','break','cake','li',
			 'bome','kn','footb','ladybug','shit','moon','sun','gift','hug','strong',
			 'weak','share','v','@)','jj','@@','bad','lvu','no','ok',
			 'love','<L>','jump','shake','<O>','circle','kotow','turn','skip','oY'];
var urls  = ['http://cache.soso.com/img/img/e100.gif',
    'http://cache.soso.com/img/img/e101.gif','http://cache.soso.com/img/img/e102.gif','http://cache.soso.com/img/img/e103.gif',
	'http://cache.soso.com/img/img/e104.gif','http://cache.soso.com/img/img/e105.gif','http://cache.soso.com/img/img/e106.gif',
	'http://cache.soso.com/img/img/e107.gif','http://cache.soso.com/img/img/e108.gif',
	'http://cache.soso.com/img/img/e110.gif','http://cache.soso.com/img/img/e111.gif','http://cache.soso.com/img/img/e112.gif',
	'http://cache.soso.com/img/img/e113.gif','http://cache.soso.com/img/img/e114.gif','http://cache.soso.com/img/img/e115.gif',
	'http://cache.soso.com/img/img/e116.gif','http://cache.soso.com/img/img/e117.gif','http://cache.soso.com/img/img/e118.gif',
	'http://cache.soso.com/img/img/e119.gif','http://cache.soso.com/img/img/e120.gif','http://cache.soso.com/img/img/e121.gif',
	'http://cache.soso.com/img/img/e122.gif','http://cache.soso.com/img/img/e123.gif','http://cache.soso.com/img/img/e124.gif',
	'http://cache.soso.com/img/img/e125.gif','http://cache.soso.com/img/img/e126.gif','http://cache.soso.com/img/img/e127.gif',
	'http://cache.soso.com/img/img/e128.gif','http://cache.soso.com/img/img/e129.gif','http://cache.soso.com/img/img/e130.gif',
	'http://cache.soso.com/img/img/e131.gif','http://cache.soso.com/img/img/e132.gif','http://cache.soso.com/img/img/e133.gif',
	'http://cache.soso.com/img/img/e134.gif','http://cache.soso.com/img/img/e135.gif','http://cache.soso.com/img/img/e136.gif',
	'http://cache.soso.com/img/img/e137.gif','http://cache.soso.com/img/img/e138.gif','http://cache.soso.com/img/img/e139.gif',
	'http://cache.soso.com/img/img/e140.gif','http://cache.soso.com/img/img/e141.gif','http://cache.soso.com/img/img/e142.gif',
	'http://cache.soso.com/img/img/e143.gif','http://cache.soso.com/img/img/e144.gif','http://cache.soso.com/img/img/e145.gif',
	'http://cache.soso.com/img/img/e146.gif','http://cache.soso.com/img/img/e147.gif','http://cache.soso.com/img/img/e148.gif',
	'http://cache.soso.com/img/img/e149.gif','http://cache.soso.com/img/img/e151.gif',
	'http://cache.soso.com/img/img/e152.gif','http://cache.soso.com/img/img/e153.gif','http://cache.soso.com/img/img/e154.gif',
	'http://cache.soso.com/img/img/e155.gif','http://cache.soso.com/img/img/e156.gif','http://cache.soso.com/img/img/e157.gif',
	'http://cache.soso.com/img/img/e158.gif','http://cache.soso.com/img/img/e159.gif','http://cache.soso.com/img/img/e160.gif',
	'http://cache.soso.com/img/img/e161.gif','http://cache.soso.com/img/img/e162.gif','http://cache.soso.com/img/img/e163.gif',
	'http://cache.soso.com/img/img/e164.gif','http://cache.soso.com/img/img/e165.gif','http://cache.soso.com/img/img/e166.gif',
	'http://cache.soso.com/img/img/e167.gif','http://cache.soso.com/img/img/e168.gif','http://cache.soso.com/img/img/e169.gif',
	'http://cache.soso.com/img/img/e170.gif','http://cache.soso.com/img/img/e171.gif','http://cache.soso.com/img/img/e172.gif',
	'http://cache.soso.com/img/img/e173.gif','http://cache.soso.com/img/img/e174.gif','http://cache.soso.com/img/img/e175.gif',
	'http://cache.soso.com/img/img/e176.gif','http://cache.soso.com/img/img/e177.gif','http://cache.soso.com/img/img/e178.gif',	
	'http://cache.soso.com/img/img/e179.gif','http://cache.soso.com/img/img/e180.gif','http://cache.soso.com/img/img/e181.gif',	
	'http://cache.soso.com/img/img/e182.gif','http://cache.soso.com/img/img/e183.gif','http://cache.soso.com/img/img/e184.gif',	
	'http://cache.soso.com/img/img/e185.gif','http://cache.soso.com/img/img/e186.gif','http://cache.soso.com/img/img/e187.gif',	
	'http://cache.soso.com/img/img/e188.gif','http://cache.soso.com/img/img/e189.gif','http://cache.soso.com/img/img/e190.gif',	
	'http://cache.soso.com/img/img/e191.gif','http://cache.soso.com/img/img/e192.gif','http://cache.soso.com/img/img/e193.gif',
	'http://cache.soso.com/img/img/e194.gif','http://cache.soso.com/img/img/e195.gif','http://cache.soso.com/img/img/e196.gif',
	'http://cache.soso.com/img/img/e197.gif','http://cache.soso.com/img/img/e198.gif','http://cache.soso.com/img/img/e199.gif'
];


if(typeof(gTextAreaLeft) == 'undefined')
{
    var gTextAreaLeft = 0.1;
}

if(typeof(gTextAreaTop) == 'undefined')
{
    var gTextAreaTop = 0.2;
}

if(typeof(gTextAreaWidth) == 'undefined')
{
    var gTextAreaWidth = 0.8;
}

if(typeof(gTextAreaHeight) == 'undefined')
{
    var gTextAreaHeight = 0.2;
}

if(typeof(gCardText) == 'undefined')
{
    var gCardText = '一张小小的卡片，捎去卡妞对您的无限祝福!';
}

if(typeof(gCardTextNoWrap) == 'undefined')
{
    var gCardTextNoWrap = '一张小小的卡片，捎去卡妞对您的无限祝福!';
}

if(typeof(gSizeMode) == 'undefined')
{
    var gSizeMode = 'img';  // img or bodywidth
}

if(typeof(gAnimateMode) == 'undefined')
{
    var gAnimateMode = 'left';
}

if(typeof(gSpeed) == 'undefined')
{
    var gSpeed = 350;
}

function ConvFaceOnBegin(message)
{
	var result = '';

	var i = 0;
	
	if(message.substring(i, i + 2) == '/:')
	{
		for(f=0; f<faces.length; f++)
		{
			facestr = faces[f];
			if(message.substring(i + 2, i + 2 + facestr.length) == facestr)
			{
				result = '<img src="' + urls[f] +'" width="48" height="48">';
				i = i + 2 + facestr.length;
				break;
			}
		}
	}
	
	return [result, i];
}

function ConvFace(message)
{
	var msglen = message.length;
	var result = '';

	var i = 0;
	
	while(i < msglen)
	{
		var found = false;
		
		if(message.substring(i, i + 2) == '/:')
		{
			for(f=0; f<faces.length; f++)
			{
				facestr = faces[f];
				if(message.substring(i + 2, i + 2 + facestr.length) == facestr)
				{
					result = result + '<img src="' + urls[f] +'" width="36" height="36">';
					i = i + 2 + facestr.length;
					found = true;
					break;
				}
			}
		}
		
		if(found == false)
		{
			result = result + message.substring(i, i + 1);
			i += 1;
		}
	}
	
	return result;
}

function playsound()
{
    if(typeof(gSound) != 'undefined')
    {
        var audio = document.getElementById('bgsound');
        audio.play();
    }
}

function onLoad()
{
    gTextSub     = document.getElementById("textsub");
    gTextSuper   = document.getElementById("textsuper");
    gTextContent = document.getElementById("textcontent");
    
    if(gSizeMode == 'img')
    {
        var cardimg = document.getElementById("cardimg");
        gTextSuper.style.left   = cardimg.offsetLeft + cardimg.offsetWidth  * gTextAreaLeft;
        gTextSuper.style.top    = cardimg.offsetTop  + cardimg.offsetHeight * gTextAreaTop;
        gTextSuper.style.height = cardimg.offsetHeight * gTextAreaHeight;
        gTextSuper.style.width  = cardimg.offsetWidth  * gTextAreaWidth;
    }
    else if(gSizeMode == 'bodywidth')
    {
        var ruler   = document.getElementById("ruler");
        var baseLen = ruler.offsetWidth;
        gTextSuper.style.left   = baseLen * gTextAreaLeft;
        gTextSuper.style.top    = baseLen * gTextAreaTop;
        gTextSuper.style.height = baseLen * gTextAreaHeight;
        gTextSuper.style.width  = baseLen * gTextAreaWidth;
    }
    
    if(gAnimateMode == 'print')
    {
        onPrintLoad();
        setTimeout("onPrintAnimate()", 1500);
    }
    else if(gAnimateMode == 'up')
    {
        onUpLoad();
        setTimeout("onUpAnimate()", 10);
    }
    else if(gAnimateMode == 'left')
    {
		gCardText = gCardText.replace(/<br>/g, "");
        onLeftLoad();
        setTimeout("onLeftAnimate()", 10);
    }
	else if(gAnimateMode == 'static')
	{
		gCardText = gCardText.replace(/<br>/g, "");
        onStaticLoad();
	}

    gTextContent.innerHTML = gCardText;
    

    // sound
	//var audio = document.getElementById('bgsound');
	//audio.src = gSound;
	//audio.play();
    
    // font size
    if(typeof(gFontSize) != 'undefined')
    {
        gTextContent.style.fontSize = gFontSize;
    }
	
	// font color
    if(typeof(gColor) != 'undefined')
    {
        gTextContent.style.color = gColor;
    }
}

function onPrintLoad()
{
	gTextSub.style.top = gTextSuper.offsetHeight;
    gPrintText         = gCardText;
    gOrgCardText       = gCardText;
    gCardText          = '';
}
    
function onUpLoad()
{
	gCardText = ConvFace(gCardText);
    gTextSub.style.top = gTextSuper.offsetHeight;
}

  
function onLeftLoad()
{
	gCardText = ConvFace(gCardText);
    textwidth = 75 * gCardText.length;
    if(textwidth < 500) textwidth = 500;
    
    gTextSub.style.width = textwidth;
    gTextSub.style.left  = gTextSuper.offsetWidth;
}

function onStaticLoad()
{
	gCardText = ConvFace(gCardText);
    gTextSub.style.top = gTextSuper.offsetHeight;
}
  
function goguanzhu()
{
    location.href = '{weimicms:$fxlj}';
}

function onPrintAnimate()
{
    pushText = '';
    
	var reachEnd = 0;
	
	if(gPrintText.length <= 1)
	{
		reachEnd = 1;
	}
	
	var cutlen = 0;

    if(gPrintText.length >= 4 && gPrintText.substring(0, 4) == '<br>')
    {
        gPrintText = gPrintText.substring(4);
        pushText = '<br>';
		cutlen = 4;
    }
	else if(gPrintText.substring(0, 2) == '/:')
	{
		result = ConvFaceOnBegin(gPrintText);
		cutlen = result[1];
		if(cutlen > 0)
		{
			gPrintText = gPrintText.substring(cutlen)
			pushText = result[0]
		}
	}
	
    if(cutlen == 0 && gPrintText.length >= 1)
    {
        pushText   = gPrintText.substring(0, 1)
        gPrintText = gPrintText.substring(1)
    }

    textcontent.innerHTML = textcontent.innerHTML + pushText

    if(textsub.offsetTop + textsub.offsetHeight > textsuper.offsetHeight)
    {
        textsub.style.top = textsuper.offsetHeight - textsub.offsetHeight;
    }

	if(reachEnd == 1)
	{
		setTimeout("onPrintAnimate()", 10000);
	}
    else if(gPrintText.length == 0)
	{
        gTextSub.style.top     = gTextSuper.offsetHeight;
        gPrintText             = gOrgCardText;
        gTextContent.innerHTML = gCardText;
        
        setTimeout("onPrintAnimate()", 1500);
    }
    else
	{
		setTimeout("onPrintAnimate()", gSpeed);
    }
}

function onUpAnimate()
{
    textsub.style.top = textsub.offsetTop - 1;
    
    if(textsub.offsetTop < - textsub.offsetHeight)
    {
        textsub.style.top = textsuper.offsetHeight;
    }
    
    setTimeout("onUpAnimate()", 20);
}

function onLeftAnimate()
{
    gTextSub.style.left = gTextSub.offsetLeft - 1;
    
    if(gTextSub.offsetLeft < - textwidth)
    {
        gTextSub.style.left = gTextSuper.offsetWidth;
    }
    
    setTimeout("onLeftAnimate()", 10);
}

function weixinAddContact()
{
    if(typeof(WeixinJSBridge) != "undefined")
    {
        WeixinJSBridge.invoke(
            "addContact",
            {webtype: "1",username: "kagirl"},
            function(e){
                if(e.err_msg == "access_control:not_allow")
                {
                    document.location = "../kagirl/htm/t1.htm"
                }
                }
            )
    }
    else
    {
        document.location = "../kagirl/htm/t1.htm"
    }
}


</script></body>

</html>