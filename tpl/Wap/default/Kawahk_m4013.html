<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="target-densitydpi=320,width=500px,min-height:750px;user-scalable=no"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="tpl/Wap/default/common/kawahk/common/makecard_top.css" type="text/css" media="screen" charset="utf-8">
<title>帅哥证</title>
<style type="text/css">
<!--
body {
	-webkit-touch-callout: none;
	-webkit-text-size-adjust: none;
	margin: 0 auto;
	overflow: hidden;
	position: relative;
	font-family: "Microsoft YaHei" ! important;
}
div#content {
	position: relative;
	border: 1px solid #000;
	width: 500px;
	height: 750px;
	margin: 0 auto;
	top: 0px;
	overflow: hidden;
	clear: both;
	font-family: "Microsoft YaHei" ! important;
}
#pywW1ItCE-an-obj-1 {
	position: absolute;
	-webkit-transform: translate3d(0px, 1px, 0px);
	width: 500px;
	height: 750px;
	top: 0;
	left: 0;
	-webkit-transform-origin: 43.33% 26.67%;
}
#pywW1ItCE-an-obj-2 {
	position: absolute;
	-webkit-transform: translate3d(50px, 117px, 0px);
	width: 120px;
	height: 20px;
	top: 0;
	left: 0;
	font-size: 28px;
	color: rgba(19,20,18,1);
}
#pywW1ItCE-an-obj-3 {
	position: absolute;
	-webkit-transform: translate3d(130px, 171px, 0px);
	width: 120px;
	height: 20px;
	top: 0;
	left: 0;
	font-size: 28px;
	font-weight: bold;
	text-shadow: rgba(0,0,0,0.5) 0px 0px 3px;
	-webkit-animation: ani-pywW1ItCE-an-obj-3-0 0.3s 4.3s 1 ease normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-3-0 {
 0% {
 -webkit-transform: translate3d(130px, 161px, 0px);
 opacity: 0;
}
 100% {
 -webkit-transform: translate3d(130px, 171px, 0px);
 opacity: 1;
}
}
#pywW1ItCE-an-obj-4 {
	position: absolute;
	-webkit-transform: translate3d(50px, 171px, 0px) scale3d(1, 1, 1);
	width: 120px;
	height: 20px;
	top: 0;
	left: 0;
	font-size: 28px;
	color: rgba(29,28,28,1);
}
#pywW1ItCE-an-obj-5 {
	position: absolute;
	-webkit-transform: translate3d(130px, 117px, 0px);
	width: 120px;
	height: 20px;
	top: 0;
	left: 0;
	font-size: 28px;
	font-weight: bold;
	text-shadow: rgba(0,0,0,0.5) 0px 0px 3px;
	-webkit-animation: ani-pywW1ItCE-an-obj-5-0 0.3s 4s 1 ease normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-5-0 {
 0% {
 -webkit-transform: translate3d(130px, 107px, 0px);
 opacity: 0;
}
 100% {
 -webkit-transform: translate3d(130px, 117px, 0px);
 opacity: 1;
}
}
#pywW1ItCE-an-obj-6 {
	position: absolute;
	width: 400px;
	height: 200px;
	top: 294px;
	left: 50px;
	font-size: 28px;
	line-height: 1.5em;
	color: rgba(29,28,28,1);
	font-weight: bold;
}
#pywW1ItCE-an-obj-7 {
	position: absolute;
	width: 220px;
	height: 20px;
	top: 520px;
	left: 197px;
	font-size: 20px;
	color: rgba(29,28,28,1);
	font-weight: bold;
}
#pywW1ItCE-an-obj-8 {
	position: absolute;
	width: 300px;
	height: 20px;
	top: 560px;
	left: 197px;
	font-size: 20px;
	color: rgba(29,28,28,1);
	font-weight: bold;
}
#pywW1ItCE-an-obj-9 {
	position: absolute;
	width: 300px;
	height: 20px;
	top: 600px;
	left: 197px;
	font-size: 20px;
	color: rgba(29,28,28,1);
	font-weight: bold;
}
#pywW1ItCE-an-obj-10 {
	position: absolute;
	-webkit-transform: translate3d(250px, 495px, 0px);
	width: 172px;
	height: 178px;
	top: 0;
	left: 0;
	-webkit-animation: ani-pywW1ItCE-an-obj-10-0 1s 15.5s 1 linear normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-10-0 {
 0% {
 -webkit-transform: translate3d(250px, 465px, 0px) scale3d(1.3, 1.3, 1);
 opacity: 0;
}
 100% {
 -webkit-transform: translate3d(250px, 465px, 0px) scale3d(1, 1, 1);
 opacity: 1;
}
}
#pywW1ItCE-an-obj-11 {
	position: absolute;
	-webkit-transform: translate3d(0px, 1px, 0px);
	width: 100px;
	height: 100px;
	top: 0;
	left: 0;
	-webkit-transform-origin: 10% 100%;
	-webkit-animation: ani-pywW1ItCE-an-obj-11-0 2s 3s 1 linear normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-11-00 {
 0% {
-webkit-transform:rotateY(0deg);
 opacity:1;
}
 100% {
-webkit-transform:rotateY(-90deg);
 opacity:0;
}
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-11-0 {
 0% {
-webkit-transform:perspective(500px) rotateY(0deg);
opacity:1;
}
 100% {
-webkit-transform:perspective(500px) rotateY(-180deg);
opacity:0;
}
}
#pywW1ItCE-an-obj-12 {
	position: absolute;
	-webkit-transform: translate3d(0px, -1px, 0px);
	width: 640px;
	height: 960px;
	top: 0;
	left: 0;
}
#pywW1ItCE-an-obj-13 {
	position: absolute;
	-webkit-transform: translate3d(110px, 660px, 0px) scale3d(1, 1, 1);
	width: 322px;
	height: 24px;
	top: 0;
	left: 0;
	color: rgba(249,243,243,1);
	font-weight: bold;
	-webkit-transform-origin: 50% 50%;
	font-size: 28px;
	font-weight: bold;
	-webkit-animation: ani-pywW1ItCE-an-obj-13-0 0.5s 1.6s 1 linear normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-13-0 {
 0% {
 -webkit-transform: translate3d(110px, 750px, 0px) scale3d(1, 1, 1);
}
 60% {
 -webkit-transform: translate3d(110px, 660px, 0px) scale3d(1, 1, 1);
}
 80% {
 -webkit-transform: translate3d(110px, 670px, 0px) scale3d(1, 1, 1);
}
 100% {
 -webkit-transform: translate3d(110px, 660px, 0px) scale3d(1, 1, 1);
}
}
#pywW1ItCE-an-obj-14 {
	position: absolute;
	width: 310px;
	height: 102px;
	top: 440px;
	left: 165px;
	color: rgba(249,243,243,1);
	font-size: 52px;
	font-weight: bold;
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: xiaoshi 1s 0s 1 linear normal both, ani-pywW1ItCE-an-obj-14-0 1s 1s 1 linear normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-14-0 {
 0% {
opacity:0;
 -webkit-transform:scale(.3)
}
 50% {
opacity:1;
 -webkit-transform:scale(1.05)
}
 70% {
-webkit-transform:scale(.9)
}
 100% {
-webkit-transform:scale(1)
}
}
 @-webkit-keyframes xiaoshi {
 0% {
opacity: 0;
}
 100% {
opacity: 0;
}
}
#pywW1ItCE-an-obj-15 {
	position: absolute;
	-webkit-transform: translate3d(159px, 184px, 0px) scale3d(0.8, 0.8, 1);
	width: 182px;
	height: 170px;
	top: 0;
	left: 0;
	-webkit-animation: ani-pywW1ItCE-an-obj-15-0 1.0074s 0s 1 linear normal both;
}
 @-webkit-keyframes ani-pywW1ItCE-an-obj-15-0 {
 0% {
 -webkit-transform: translate3d(159px, 184px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(0.24, 0.24, 1);
 -webkit-animation-timing-function:ease;
}
 19.854% {
 -webkit-transform: translate3d(159px, 184px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(0.8, 0.8, 1);
 -webkit-animation-timing-function:ease;
}
 79.4161% {
 -webkit-transform: translate3d(159px, 184px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(360deg) scale3d(0.8, 0.8, 1);
 -webkit-animation-timing-function:linear;
}
 89.3431% {
 -webkit-transform: translate3d(159px, 184px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(360deg) scale3d(1.2000000000000002, 1.2000000000000002, 1);
 -webkit-animation-timing-function:linear;
}
 100% {
 -webkit-transform: translate3d(159px, 184px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(360deg) scale3d(0.8, 0.8, 1);
 -webkit-animation-timing-function:ease;
}
}
div#foot {
	position: fixed;
	width: 500px;
	left: 320px;
	bottom: 20px;
}
div#relative {
	position: relative;
	left: 100px;
	top: 0px;
}
div#static {
	background-color: #bbb;
	top: 20;
	left: 30px;
	position: static;
}
-->
</style>
<script>
	gSizeMode = 'bodywidth';
	gAnimateMode = 'print';
	gSound = 'http://sound.kagirl.net/sound/qingyinyue4.mp3';
	gColor = '#333333';
	gTextAreaLeft = 0.06;
	gTextAreaTop = 0.52;
	gTextAreaWidth = 0.92;
	gTextAreaHeight = 0.4;
	gSpeed = 200;		
	gCardTextNoWrap ='';
	gCardText ='微加微信';
	<if condition="$words neq ''">
			gCardText ='{weimicms:$words}';
			</if>
	  share_url =window.location.href;
	 
	// script place
	
	gToWhome = gCardText;
	gCardText='兹证明微加微信外形俊朗、玉树临风、气宇轩昂，在“全球超级帅哥”评选中，鹤立鸡群，力压群雄，终获大奖，特发此证！'
	 <if condition="$words neq ''">
			gCardText ='兹证明{weimicms:$words}外形俊朗、玉树临风、气宇轩昂，在“全球超级帅哥”评选中，鹤立鸡群，力压群雄，终获大奖，特发此证！';
			</if>
	

	var appId = '',
	imgUrl = '{weimicms:$f_siteUrl}/tpl/Wap/default/common/kawahk/fengmian/x4013.jpg',
	link = location.href,
	title = '帅哥证',
	desc = '热烈祝贺' + gToWhome + '荣获2014年首批“全球超级帅哥”！';
	// card tips;
	<if condition="$words neq ''">
			desc ='热烈祝贺' + gToWhome + '荣获2014年首批“全球超级帅哥”！';
			</if>
	
	
	//做卡页面参数
	gcardid = 4013;
	goptiontxt = "证书";
	</script>
<script>
function fill(idname, txt)
{
	document.getElementById(idname).innerText = txt;
}

function showTxt()
{
	var text = document.getElementById("textsuper");
	text.style.display = "block";
	setTimeout("onLoad()",3000);
	document.getElementById('towhome').innerText = gToWhome;

	today = new Date();
	fill('f1', '姓名:');
	fill('f2', '性别:');
	fill('f3', '男');
	fill('f4', '此证有效期 10 年');
	fill('f5', '证书编号：第0001号');
	fill('f6', '颁发日期：'+ today.getFullYear() + '-' + (today.getMonth()+1) + '-' + today.getDate());
	fill('f7', '全球帅哥认证协会颁发');
	fill('f8', '帅 哥 证');

	
}
</script>
</head>
<script src="tpl/Wap/default/common/kawahk/common/showcard_nosound.js"></script>


<body onLoad = "showTxt();">
<div id="content">
  <div id="pywW1ItCE-an-obj-1"><img height="750" width="500" src="tpl/Wap/default/common/kawahk/4013/4013_2.jpg"></div>
  <div id="pywW1ItCE-an-obj-2"><span id="f1"></span></div>
  <div id="pywW1ItCE-an-obj-4"><span id="f2"></span></div>
  <div id="pywW1ItCE-an-obj-3"><span id="f3"></span></div>
  <div id="pywW1ItCE-an-obj-5"><span id="towhome"></span></div>
  <div id="pywW1ItCE-an-obj-7"><span id="f4"></span></div>
  <div id="pywW1ItCE-an-obj-8"><span id="f5"></span></div>
  <div id="pywW1ItCE-an-obj-9"><span id="f6"></span></div>
  <div id="pywW1ItCE-an-obj-10"><img height="178" width="172" src="http://tu.kagirl.net/pic/4012/4100_2.png"></div>
  <div id="pywW1ItCE-an-obj-11">
    <div id="pywW1ItCE-an-obj-12">
      <div><img height="750" width="500" src="tpl/Wap/default/common/kawahk/4013/4013_1.jpg"></div>
    </div>
    <div id="pywW1ItCE-an-obj-13"><span id="f7"></span></div>
    <div id="pywW1ItCE-an-obj-14"><span id="f8"></span></div>
    <div id="pywW1ItCE-an-obj-15">
      <div><img height="170" width="182" src="tpl/Wap/default/common/kawahk/4013/4013_1.png"></div>
    </div>
  </div>
  <div id="foot" class="fixed"> <a  href="{weimicms:$fxlj}"><img width="150px" src="tpl/Wap/default/common/kawahk/common/kawa1.gif"></a> </div>
  <div id="relative"></div>
  <div id="relative"></div>
</div>
<div id="audiocontainer"></div>
<div id="ruler" style="width:100%;height:0"></div>
<div id="textsuper" style="position:absolute;top:-1000;left:-1000;overflow-x:hidden;overflow-y:hidden;z-index:4000">
  <div id="textsub" style="text-indent:2em;color:black;position:relative;font-size:21pt;text-align:left;line-height:36pt"> <b id="textcontent"> </b> </div>
</div>
<if condition="$words eq ''"> 
<script>
    function gomakecard()
    {
        url = "/index.php?g=Wap&m=Kawahk&a=make&token={weimicms:$token}&id={weimicms:$id}&cardid={weimicms:$cardid}&defaulttxt=" + gCardTextNoWrap;
        location.href = url;
    }
</script> 
<a onClick="gomakecard();">
<div style="height:100px;" id="makecard"> <img style="left:10%; width: 80%;" src="tpl/Wap/default/common/kawahk/common/dingzhiname.png"> </div>
</a></if>
</body>
<script>
var pop_up_note_mode = true;
var note_id = 1;

function id(name)
{
	return document.getElementById(name);
}

function translateUrl(url)
{
	if(typeof(share_url) != "undefined" && share_url != '')
	{
		url = share_url;
	}

    pos1 = url.indexOf("//", 0);
    
    if(pos1 != -1)
    {
        pos2 = url.indexOf("/", pos1 + 2);
        //n = Math.floor(Math.random() * 2500 + 1);
        //url = "http://ec" + n + ".wxheka.cn" + url.substring(pos2);
    	
    	//url = 'http://go.kachanuts.com/' + url.substring(pos2);

        //n = Math.floor(Math.random() * 20 + 1);
        //url = "http://cd" + n + ".95flw.com" + url.substring(pos2);

        //n = Math.floor(Math.random() * 30);
        //url = "http://cd" + n + ".nightsun-led.cn" + url.substring(pos2);

	    n = Math.floor(Math.random() * 50 + 1);
    	return 'cd' + n + '.naturalgift.cc' + url.substring(pos2);;
    }
    
    return url;
}

function switchsound()
{
	au = id('bgsound');
	ai = id('sound_image');
	if(au.paused)
	{
		au.play();
		ai.src = "tpl/Wap/default/common/hcar/music_note_big.png";
		pop_up_note_mode = true;
		popup_note();
		id("music_txt").innerHTML = "打开";
		id("music_txt").style.visibility = "visible";
		setTimeout(function(){id("music_txt").style.visibility="hidden"}, 2500);
	}
	else
	{
		pop_up_note_mode = false;
		au.pause();
		ai.src = "tpl/Wap/default/common/hcar/music_note_big.png";
		id("music_txt").innerHTML = "关闭";
		id("music_txt").style.visibility = "visible";
		setTimeout(function(){id("music_txt").style.visibility="hidden"}, 2500);
	}
}

function on_pop_note_end(event)
{
	note = event.target;
	
	if(note.parentNode == id("note_box"))
	{
		id("note_box").removeChild(note);
		//console.log("remove note id " + note.getAttribute("id"));
	}
}

function popup_note()
{
	box = id("note_box");
	
	note = document.createElement("span");
	note.style.cssText = "visibility:visible;position:absolute;background-image:url('tpl/Wap/default/common/hcar/music_note_small.png');width:15px;height:25px";
	note.style.left = Math.random() * 20 + 20;
	note.style.top = "75px";
	this_node = "music_note_" + note_id;
	note.setAttribute("ID", this_node);
	note_id += 1;
	scale = Math.random() * 0.4 + 0.4;
	note.style.webkitTransform = "rotate(" + Math.floor(360 * Math.random()) + "deg) scale(" + scale + "," + scale + ")";
	note.style.webkitTransition = "top 2s ease-in, opacity 2s ease-in, left 2s ease-in";
	note.addEventListener("webkitTransitionEnd", on_pop_note_end);
	box.appendChild(note);

	setTimeout("document.getElementById('" + this_node + "').style.left = '0px';", 100);
	setTimeout("document.getElementById('" + this_node + "').style.top = '0px';", 100);
	setTimeout("document.getElementById('" + this_node + "').style.opacity = '0';", 100);
	
	if(pop_up_note_mode)
	{
		setTimeout("popup_note()", 600);
	}	
}

function playbksound()
{
	var audiocontainer = id('audiocontainer');
	if(audiocontainer != undefined)
	{
		audiocontainer.innerHTML = '<audio id="bgsound" loop="loop" autoplay="autoplay"> <source src="' + gSound + '" /> </audio>';
	}
			
	var audio = id('bgsound');
	audio.play();
	
	sound_div = document.createElement("div");
	sound_div.setAttribute("ID", "cardsound");
	sound_div.style.cssText = "position:fixed;right:20px;top:40px;z-index:50000;visibility:visible;";
	sound_div.onclick = switchsound;
	if(document.body.offsetWidth > 400)
	{
	    bg_htm = "<img id='sound_image' src='tpl/Wap/default/common/hcar/music_note_big.png'>";
    	box_htm = "<div id='note_box' style='height:100px;width:44px;position:absolute;left:-20px;top:-80px'></div>";
	}
	else
	{
	    bg_htm = "<img id='sound_image' width='30px' src='tpl/Wap/default/common/hcar/music_note_big.png'>";
    	box_htm = "<div id='note_box' style='height:100px;width:44px;position:absolute;left:-5px;top:-80px'></div>";
	}
	txt_htm = "<div id='music_txt' style='color:white;position:absolute;left:-40px;top:30px;width:60px'></div>"
	sound_div.innerHTML = bg_htm + box_htm + txt_htm;
	document.body.appendChild(sound_div);
	setTimeout("popup_note()", 100);
}	

function in_weixin()
{
	var ua = navigator.userAgent.toLowerCase();

	if(ua.match(/MicroMessenger/i) == "micromessenger") {return true;}
	
	return false;
}

(function(){
	
	var onBridgeReady = function () {	

		playbksound();			
		link2 = translateUrl(link)

		WeixinJSBridge.on('menu:share:appwords', function(argv){
			WeixinJSBridge.invoke('sendAppwords',{
				'img_url' : imgUrl,
				'img_width' : '640',
				'img_height' : '640',
				'link' :  share_url,
				'desc' : desc,
				'title' : title
				}, function(res) {
			switch(res.err_msg) {
			case "send_app_msg:confirm":
			case "send_app_msg:ok":
			    location.href="{weimicms:$fxlj}"
			    break;
			}
		});
		});

		WeixinJSBridge.on('menu:share:timeline', function(argv){
			WeixinJSBridge.invoke('shareTimeline',{
			'img_url' : imgUrl,
			'img_width' : '640',
			'img_height' : '640',
			'link' :  share_url,
			'desc' : desc,
			'title' : desc
			}, function(res) {
			switch(res.err_msg) {
			case "share_timeline:confirm":
			case "share_timeline:ok":
			location.href="{weimicms:$fxlj}"
			    break;
			}
			});
		});
	};
	
	if(document.addEventListener){
		document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
	} else if(document.attachEvent){
		document.attachEvent('WeixinJSBridgeReady' , onBridgeReady);
		document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
	}
	
	if(!in_weixin())
	{
		setTimeout("playbksound()", 500);
		//setTimeout("translateUrl(link)", 1000);
	}
})();

</script>
</html>
