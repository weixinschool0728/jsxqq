var jMask=(function(c,d){var a=function(f){var e=this;this.cfg=c.extend({zIndex:9998,resizable:true},f);this.element=c('<div class="j-dialog-mask '+this.cfg.className+'"/>').appendTo(document.body).css({display:"none",zIndex:this.cfg.zIndex,width:this.width(),height:this.height()});if(this.cfg.show){this.show()}this.resizeFunc=function(){e.css("width",e.width());e.css("height",e.height());e.triggerHandler("resize")};if(this.cfg.resizable){c(window).bind("resize",this.resizeFunc)}};a.prototype={constructor:a,show:function(){this.element.show.apply(this.element,arguments);this._processTages(1)},hide:function(){this.element.hide.apply(this.element,arguments);this._processTages(0)},width:function(){return c("body").width()},height:function(){return Math.max(c("body").height(),c(window).height())},css:function(){this.element.css.apply(this.element,arguments)},triggerHandler:function(){this.element.triggerHandler.apply(this.element,arguments)},bind:function(){this.element.bind.apply(this.element,arguments)},remove:function(){this._processTages(0);this.element&&this.element.remove();c(window).unbind("resize",this.resizeFunc);for(var e in this){delete this[e]}},_processTages:function(j){var g=this;var l=navigator.userAgent.toLowerCase();var f=/msie/.test(l)&&!/opera/.test(l);if(!f){return}g.special=g.special||[];if(j){if(g.special.length>0){return}var k=c("SELECT");if(this.cfg.safety){k=k.filter(function(i){return g.cfg.safety.find(this).length==0})}k.each(function(){var i=c(this);g.special.push({dom:this,css:i.css("visibility")});i.css("visibility","hidden")})}else{for(var h=0,e=g.special.length;h<e;h++){c(g.special[h].dom).css("visibility",g.special[h].css||"");g.special[h].dom=null}}}};var b=function(e){return new a(e)};return{init:b}})(jQuery);